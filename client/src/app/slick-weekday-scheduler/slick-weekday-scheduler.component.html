<div class="container">

    <form [formGroup]="timeRangesForm" class="row">

        <div class="col-md-6" *ngFor="let weekdaySplit of WEEKDAY_SPLITS">

            <div class="row">
        
                <slick-expansion-panel class="col-md-12" *ngFor="let weekday of weekdaySplit" [formArrayName]="weekday">
                            
                    <ng-container md-panel-title>{{ weekday }}</ng-container>

                    <div class="time-range-container" *ngFor="let timeRange of timeRangesForm.get(weekday).controls; let i = index">

                        <slick-time-range [calendarDateBase]="getDateForWeekday(weekday)" [validate]="validate" [formControlName]="i"></slick-time-range>
                        <button (click)="removeTimeRange(weekday, i)" type="button" class="remove-button" *ngIf="allowRemove">&times;</button>

                    </div>

                    <div class="link-content add-container">

                        <a (click)="addTimeRange(weekday)" *ngIf="canAddNewTimeRange(weekday)">
                            <button type="button" class="add-button accent-background-darker">+</button>
                            <span class="add-span">Add Availability</span>
                        </a>

                    </div>

                </slick-expansion-panel>

            </div>

        </div>

        <div id="err-msg" class="warn-foreground" *ngIf="validate && timeRangesForm.hasError('required')">
            <span>* Must input at least one availability time range.</span>
        </div>

    </form>

    <br>

</div>
